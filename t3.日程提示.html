<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>日程提示</title>
<style>
  .label {
    font-weight: bold;
    margin-bottom: 4px;
    color: #444;
  }
</style>
</head>
<body>

<h2>日程提示</h2>

<!-- クリアボタン -->
<button id="clearLineNameBtn">クリア</button>
<br><br>

<!-- LINE名 -->
<textarea
  id="lineName"
  rows="2"
  cols="50"
  placeholder="LINE名"
  style="background-color:#fff9c4;"
></textarea>
<br>

<!-- LINE名2 -->
<textarea
  id="lineName2"
  rows="2"
  cols="50"
  placeholder="LINE名2（編集可）"
  style="background-color:#e3f2fd;"
></textarea>

<hr>

<textarea
  id="dates"
  rows="6"
  cols="50"
  placeholder="面談候補日程を入力"
  style="background-color:#e0e0e0;"
></textarea>

<hr>

<button id="generateBtn">生成</button>

<hr>

<p style="color:black;">
  以下のラベルを貼る<br>
  <span style="font-weight:bold; background:yellow;">⭐️スタンプ受信⭐️</span><br>
  <span style="font-weight:bold; background:yellow;">日程調整中🔵</span>
</p>

<hr>

<!-- メッセージA -->
<textarea
  id="messageA"
  rows="15"
  cols="50"
></textarea>
<button onclick="copyText('messageA')">コピー</button>

<hr>

<!-- メッセージB ラベル -->
<div class="label">未着対応・再調整用</div>

<textarea
  id="messageB"
  rows="15"
  cols="50"
  style="background-color:#e0e0e0;"
></textarea>
<button onclick="copyText('messageB')">コピー</button>

<script>
function copyText(id){
  const ta = document.getElementById(id);
  if(!ta.value.trim()) return;
  ta.select();
  ta.setSelectionRange(0, 99999);
  document.execCommand("copy");
}

// クリア
document.getElementById("clearLineNameBtn").addEventListener("click", () => {
  document.getElementById("lineName").value = "";
  document.getElementById("lineName2").value = "";
  document.getElementById("messageA").value = "";
  document.getElementById("messageB").value = "";
});

// LINE名変更時
document.getElementById("lineName").addEventListener("input", () => {
  const lineName = document.getElementById("lineName").value;
  document.getElementById("lineName2").value = lineName;
  document.getElementById("messageA").value = "";
  document.getElementById("messageB").value = "";
});

// 生成
document.getElementById("generateBtn").addEventListener("click", () => {
  const displayName = document.getElementById("lineName2").value.trim();
  const dates = document.getElementById("dates").value.trim();

  const messageA =
`${displayName}さんスタンプありがとうございます！

${displayName}さん専用のサポート時間を確保しました！
下記からお選びいただけますか？

${dates}
※参加希望の方が多いため、先着順になります

上記でご都合の良いお日にちを教えてください！☺️

もし予定が合わない場合は再度調整しますね！`;

  const messageB =
`${displayName}さん！再度日程調整しますね！
※参加希望の方が多いため、先着順になります

${dates}

上記でご都合の良いお日にちを教えてください！☺️

もし予定が合わない場合は再度調整しますね！`;

  document.getElementById("messageA").value = messageA;
  document.getElementById("messageB").value = messageB;
});
</script>

</body>
</html>
